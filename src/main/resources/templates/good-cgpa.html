<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Good CGPA Calculator</title>
    <script>
        function updateSGPAInputs() {
            const semCount = document.getElementById("semestersCompleted").value;
            const sgpaInputs = document.getElementById("sgpaInputs");
            sgpaInputs.innerHTML = '';
            for (let i = 1; i <= semCount; i++) {
                sgpaInputs.innerHTML += `<div class='input-row'><label><i class='fas fa-graduation-cap'></i> Semester ${i} SGPA:</label>
                  <input type='number' step='0.01' min='0' max='10' name='sgpaList[${i-1}]' required></div>`;
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background: linear-gradient(135deg,#74ebd5 0%,#ACB6E5 100%); min-height: 100vh; margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .navbar { background: #22b851; padding: 18px 23px; color: white; display: flex; gap: 22px; align-items:center; }
        .navbar a { color: white; margin-right:18px; text-decoration: none; font-weight: 500; }
        .navbar .active { text-decoration: underline; font-weight:700; }
        .navbar a:hover { text-decoration: underline; }
        .badge { background:#22b851; color:white; border-radius:8px; padding:6px 14px; display:inline-block; margin-left:16px; font-weight:700; font-size: 1rem; letter-spacing: 1px; }
        .container { background: white; border-radius:16px; box-shadow:0 10px 38px rgba(0,0,0,.13); max-width:480px; margin:32px auto; padding:38px 32px 28px 32px; }
        h2 { margin-top: 0; color:#22b851; text-align:center; margin-bottom:10px; font-size:1.7rem; }
        form { margin-top:32px; }
        label { font-weight: 500; color: #3d3d3d; margin-bottom:6px; display:block; }
        .input-row { margin-bottom:18px; }
        input[type="number"] { border-radius:8px; border:1.5px solid #b8eec7; padding:13px 14px; width:86%; font-size:.99rem; margin-left:8px; margin-bottom:2px; background:#f4fefe; }
        input[type="number"]:focus { outline:none; border-color:#22b851; background:white; box-shadow:0 0 0 3px #c7ffd7b0; }
        button { background: linear-gradient(135deg,#50e283 0%,#22b851 100%); border:none; color:white; padding:17px 0; border-radius:10px; width:100%; margin-top:12px; font-size:1.16rem; font-weight:700; cursor:pointer; transition:box-shadow 0.2s; box-shadow:0 3px 9px rgba(34,184,81,0.08); }
        button:hover { box-shadow:0 10px 24px #50e2832d; background:linear-gradient(135deg,#22b851 0%,#50e283 100%);}
        .result-card { background:#f0fff5; border-left:5px solid #22b851; border-radius:13px; margin-top:30px; padding:27px 25px; box-shadow:0 2px 10px #22b85111; text-align:center; }
        .result-title { color:#22b851; font-size:1.4rem; margin-bottom:15px; } .result-icon { font-size:2.2rem; color:#22b851; }
        .result-number { font-size:2.05rem; font-weight:700; color:#22b851; }
        .result-label { color:#294229; text-transform:uppercase; font-size:.92rem; margin-bottom:16px; }
        .help { color:#3e8e41; background:#e2ffd6; padding:13px 13px 11px 14px; border-radius:8px; margin-bottom:16px; font-size:.97rem; }
        @media(max-width:560px) { .container{padding:9vw 3vw;} h2{font-size:1.2rem;} }
    </style>
</head>
<body>
<div class="navbar">
  <a href="/" >SQA Home</a>
  <a href="/good-cgpa" class="active">Good Calculator</a>
  <a href="/bad-cgpa">Bad Example</a>
  <span class="badge"><i class="fas fa-check-circle"></i> Good Example</span>
</div>
<div class="container">
    <h2><i class="fas fa-clipboard-check"></i> Good CGPA Calculator</h2>
    <div class="help"><i class="fas fa-lightbulb"></i> Enter your semesters and SGPAs, then calculate. This calculator gives the accurate result and follows SQA best practices.</div>

    <form method="post" th:action="@{/good-cgpa}" th:object="${request}">
        <div class="input-row">
        <label for="semestersCompleted"><i class="fas fa-list-ol"></i> Number of Semesters Completed:</label>
        <input type="number" id="semestersCompleted" name="semestersCompleted" min="1" max="8" th:value="*{semestersCompleted}" onchange="updateSGPAInputs()" required>
        </div>
        <div id="sgpaInputs">
            <!-- SGPA inputs dynamically inserted here -->
        </div>
        <button type="submit"><i class="fas fa-calculator"></i> Calculate CGPA &amp; Percentage</button>
    </form>
    <script>
    window.onload = function() {
        const semField = document.getElementById('semestersCompleted');
        if (semField.value) updateSGPAInputs();
    };
    </script>
    <div th:if="${result != null}" class="result-card">
        <div class="result-title"><span class="result-icon"><i class="fas fa-trophy"></i></span> Your Good Results</div>
        <div class="result-number" th:text="${result.cgpa}"></div>
        <div class="result-label">CGPA</div>
        <div class="result-number" th:text="${result.percentage}"></div>
        <div class="result-label">Percentage</div>
        <div style="color:#22b851;font-size:1.03rem;margin-top:15px"><i class="fas fa-shield-alt"></i> Calculation is SQA verified!</div>
    </div>
</div>
</body>
</html>
